<!-- sections/product-specification.liquid -->

<section id="product-specification-section" class="product-spec-section page-width">
    <div class="product_variant_based_short_desciption"></div>
  <div class="accordion-container">
    <!-- Product Description Accordion -->
    {% if product.description != blank %}
      <div class="accordion-item">
        <button class="accordion-header">
          <span><strong>Product Description</strong></span>
          <span class="accordion-icon">+</span>
        </button>
        <div class="accordion-content">
          <div class="product-description">
            {{ product.description }}
          </div>
        </div>
      </div>
    {% endif %}

    <!-- Specification Accordion -->

    {%- assign spec_mf = product.metafields.custom.specification -%}

    {%- if spec_mf != blank -%}
      {%- comment %} Prefer .value for JSON metafields; fallback to parse_json if metafield is plain text. {%- endcomment %}
      {%- assign specifications = spec_mf.value -%}
      {%- if specifications == blank -%}
        {%- assign specifications = spec_mf | default: '{}' | parse_json -%}
      {%- endif -%}

      {%- if specifications != blank and specifications.size > 0 -%}
        <div class="accordion-item">
          <button class="accordion-header">
            <span><strong>Product Specifications</strong></span>
            <span class="accordion-icon">+</span>
          </button>
          <div class="accordion-content">
            <div class="specification-table-row">
            <table class="specification-table">
              <tbody>
                {%- for spec in specifications -%}
                  {%- assign label = spec[0] | replace: '_', ' ' | capitalize -%}
                  {%- assign value = spec[1] -%}
                  {%- if value != blank -%}
                    <tr>
                      <td>
                        <span class="specification-inner">{{ label }}</span>
                      </td>
                      <td>{{ value }}</td>
                    </tr>
                  {%- endif -%}
                {%- endfor -%}
              </tbody>
            </table>
            </div>
          </div>
        </div>
      {%- endif -%}
    {%- endif -%}

    <!-- Product Data Sheets Accordion -->
    {%- assign ds_mf = product.metafields.custom.data_sheet -%}

    {%- if ds_mf != blank -%}
      {%- comment %} Prefer .value for JSON metafields; fallback to parse_json if it's a string. {%- endcomment %}
      {%- assign data_sheets = ds_mf.value -%}
      {%- if data_sheets == blank -%}
        {%- assign data_sheets = ds_mf | default: '[]' | parse_json -%}
      {%- endif -%}

      {%- if data_sheets and data_sheets.size > 0 -%}
        <div class="accordion-item">
          <button class="accordion-header">
            <span
              ><strong
                >Product Data Sheets <span class="data-sheet-number--count">{{ data_sheets.size }}</span></strong
              ></span
            >
            <span class="accordion-icon">+</span>
          </button>
          <div class="accordion-content">
            <div class="product-data-sheets">
              <ul class="pdf-list">
                {%- for sheet in data_sheets -%}
                  {%- assign sheet_name = sheet.name | default: sheet.name | default: 'Download PDF' -%}
                  {%- assign sheet_url = sheet.url | default: sheet.url -%}
                  {%- if sheet_url != blank -%}
                    <li>
                      <a href="{{ sheet_url }}" target="_blank">
                        <span class="pdf-icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="24" width="24">
                            <g clip-path="url(#clip0_2006_2355)" id="pdf-svgrepo-com 1">
                            <g id="Group">
                            <path fill="black" d="M17.7381 0H9.76391H9.146L8.70936 0.436594L2.6728 6.47353L2.23621 6.91012V7.52775V19.9737C2.23621 22.1937 4.04221 24 6.26258 24H17.7381C19.9578 24 21.7638 22.1937 21.7638 19.9737V4.02638C21.7638 1.806 19.9578 0 17.7381 0ZM20.2733 19.9737C20.2733 21.3742 19.1383 22.5092 17.7381 22.5092H6.26258C4.86177 22.5092 3.72674 21.3742 3.72674 19.9737V7.5277H7.65092C8.81741 7.5277 9.76391 6.58186 9.76391 5.41505V1.49081H17.7381C19.1383 1.49081 20.2733 2.62584 20.2733 4.02638V19.9737Z" id="Vector"/>
                            <path fill="black" d="M8.06001 11.8491H6.72271C6.46808 11.8491 6.31555 12.0147 6.31555 12.2628V15.72C6.31555 16.0194 6.51261 16.2168 6.78622 16.2168C7.05393 16.2168 7.25094 16.0195 7.25094 15.72V14.6697C7.25094 14.6442 7.26402 14.6314 7.28957 14.6314H8.06001C9.00196 14.6314 9.56882 14.0583 9.56882 13.2434C9.56886 12.4157 9.00852 11.8491 8.06001 11.8491ZM8.00244 13.8227H7.28957C7.26402 13.8227 7.25094 13.8099 7.25094 13.7847V12.6958C7.25094 12.6703 7.26402 12.6576 7.28957 12.6576H8.00244C8.39713 12.6576 8.63277 12.8932 8.63277 13.2434C8.63282 13.5936 8.39713 13.8227 8.00244 13.8227Z" id="Vector_2"/>
                            <path fill="black" d="M11.7277 11.8491H10.7026C10.448 11.8491 10.2955 12.0147 10.2955 12.2628V15.7711C10.2955 16.0195 10.448 16.1785 10.7026 16.1785H11.7277C12.6507 16.1785 13.2241 15.8856 13.4532 15.179C13.5357 14.9305 13.5808 14.6314 13.5808 14.0138C13.5808 13.3962 13.5356 13.0971 13.4532 12.8487C13.224 12.142 12.6507 11.8491 11.7277 11.8491ZM12.5557 14.8543C12.4471 15.198 12.1355 15.3446 11.7021 15.3446H11.2695C11.2439 15.3446 11.2309 15.3318 11.2309 15.3063V12.7214C11.2309 12.6958 11.2439 12.6831 11.2695 12.6831H11.7021C12.1355 12.6831 12.4471 12.8297 12.5557 13.1734C12.6003 13.32 12.6317 13.5746 12.6317 14.0139C12.6317 14.4531 12.6002 14.7077 12.5557 14.8543Z" id="Vector_3"/>
                            <path fill="black" d="M16.9297 11.8491H14.8291C14.5745 11.8491 14.4213 12.0147 14.4213 12.2628V15.72C14.4213 16.0194 14.619 16.2168 14.8927 16.2168C15.1597 16.2168 15.3574 16.0195 15.3574 15.72V14.4848C15.3574 14.4596 15.3698 14.4468 15.3953 14.4468H16.6181C16.8917 14.4468 17.0508 14.2813 17.0508 14.0456C17.0508 13.8099 16.8917 13.6447 16.6181 13.6447H15.3953C15.3698 13.6447 15.3574 13.6319 15.3574 13.6064V12.6958C15.3574 12.6703 15.3698 12.6576 15.3953 12.6576H16.9297C17.1909 12.6576 17.3631 12.4857 17.3631 12.2567C17.363 12.0209 17.1908 11.8491 16.9297 11.8491Z" id="Vector_4"/>
                            </g>
                            </g>
                            <defs>
                            <clipPath id="clip0_2006_2355">
                            <rect fill="white" height="24" width="24"/>
                            </clipPath>
                            </defs>
                            </svg></span>
                        {{ sheet_name }}
                      </a>
                    </li>
                  {%- endif -%}
                {%- endfor -%}
              </ul>
            </div>
          </div>
        </div>
      {%- endif -%}
    {%- endif -%}
  </div>
</section>

<style>
      .accordion-container {
        max-width: 69%;
        margin: 30px 0;
        background-color: #fff;
      }

      .accordion-container {
        border: none;

      }

      /* Accordion Header */
      .accordion-header {
        width: 100%;
        text-align: left;
        background-color: #fff;
        padding: 15px 0px;
          font-size: 18px;
       font-family:'MyriadPro';
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background 0.3s ease;
        border:none;
         border-bottom: 1px solid #e5e5e5;
      }

      .accordion-item.active .accordion-content
      {
          border-bottom: 1px solid #e5e5e5;
          margin-bottom: 0px;
      }
       .accordion-item.active .accordion-header
    {
        border-bottom: none;
    }

      .accordion-icon {
        font-size: 20px;
        font-weight: bold;
        transition: transform 0.3s ease;
      }


      .accordion-content {
        max-height: 0;
        overflow: hidden;
         padding: 0px 0;
        background-color: #fff;
        transition: max-height 0.4s ease, padding 0.3s ease;
      }

      .accordion-item.active .accordion-content {
        padding: 15px 0;
        max-height: 1200px;
      }

      /* Table Styling */
  .specification-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 15px;
    margin: 10px 0;
    border: 1px solid #ddd;
  }


  .specification-table td {
    padding: 10px 15px;
    border: 1px solid #ddd;
    color: #333;
  }


  .specification-table td:first-child {
    font-weight: bold;
    width: 35%;
  }


  .specification-table td:last-child {
    color: #444;
    width: 65%;
  }


  .specification-table tr:nth-child(even) {
    background-color: #f5f5f5;
  }

  /* Hover Effect */
  .specification-table tr:hover {
    background-color: #f0f0f0;
    transition: background-color 0.2s ease;
  }
  .specification-inner
  {
  font-weight:700;
  }
  .specification-table-row 
  {
    overflow:auto;
}
.specification-table-row  table
{
    min-width:500px;
}


  /* Data Sheet Links */

  .product-data-sheets h3 {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 12px;
    color: #111;
  }


  .pdf-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

 
  .pdf-list li {
    margin-bottom: 10px;
  }

  /* Links */
  .pdf-list a {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: #222;
    font-size: 15px;
    font-weight: 500;
    transition: color 0.2s ease;
     text-decoration: underline;
  }

  /* Hover Effect */
  .pdf-list a:hover {
    
    text-decoration: underline;
  }
span.pdf-icon svg{
    width: 24px;
    height: 24px;
}
span.pdf-icon {
    margin-right: 8px;
}

      p.subheading {
        margin-bottom: 25px;
    }
    span.data-sheet-number--count {
      background: #F7F7F8;
        font-size: 10px;
        padding: 5px;
        border-radius: 8px;
        border: 1px solid #F7F7F8;
        position: absolute;
        right: 20px;
        top: 18px;
        width: 25px;
        height: 25px;
        display: inline-flex;
        justify-content: center;
    }
    .accordion-header
    {
    position: relative;
    }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const accordionHeaders = document.querySelectorAll('.accordion-header');

    accordionHeaders.forEach((header) => {
      header.addEventListener('click', function () {
        const parent = this.parentElement;
        const icon = this.querySelector('.accordion-icon');

        // Toggle active class for accordion
        parent.classList.toggle('active');

        // Change icon based on state
        if (parent.classList.contains('active')) {
          icon.textContent = '−'; // Open state
        } else {
          icon.textContent = '+'; // Closed state
        }
      });
    });
  });


</script>

{% comment %} 
Short Description for mobile  
{% endcomment %}
 <script>
  document.addEventListener("DOMContentLoaded", function () {
     if (window.innerWidth <= 768) {
        
     }
      });
</script>

